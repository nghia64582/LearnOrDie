Dưới đây là bản giải thích đầy đủ - đúng bản chất - đúng thực tế production về Bean trong Spring: từ khái niệm, vòng đời, scope, đến annotation quan trọng.
---
#  1. Bean trong Spring là gì?
	> Bean = Object do Spring tạo ra, quản lý và inject.
	Thay vì bạn tự viết:
		UserService service = new UserService();
	
	Spring sẽ:
	
	* Tạo object
	* Quản lý vòng đời
	* Tự động inject dependency
	* Quản lý scope
	* Quản lý proxy, AOP, transaction
	
	 Bean chính là nền móng của IoC & DI trong Spring.
	
---
#  2. Spring Container là gì?
Spring có 2 loại container:
| Container            | Dùng khi nào             |
| -------------------- | ------------------------ |
| `BeanFactory`        | Nhẹ, hiếm dùng           |
| `ApplicationContext` |   Dùng trong Spring Boot |
Spring Boot khởi động  Quét class  Tạo bean  Inject  Quản lý lifecycle.
---
#  3. Cách tạo Bean trong Spring
	##  Cách 1: Dùng `@Component` (phổ biến nhất)
		@Component
		public class UserService {}
		
		Các biến thể:
		
		| Annotation        | Mục đích       |
		| ----------------- | -------------- |
		| `@Component`      | Chung          |
		| `@Service`        | Business logic |
		| `@Repository`     | Tầng DB        |
		| `@Controller`     | MVC Controller |
		| `@RestController` | REST API       |
		
		 Tất cả đều là Bean.
		
	---
	##  Cách 2: Dùng `@Bean` trong `@Configuration`
		@Configuration
		public class AppConfig {
		    @Bean
		    public UserService userService() {
		        return new UserService();
	    }
	}
 Dùng khi:
* Class thuộc thư viện ngoài
* Cần custom object phức tạp
---
#  4. Dependency Injection (Inject Bean)
	##  Cách 1: `@Autowired` (truyền thống)
		@Autowired
		private UserService userService;
	
---
##  Cách 2: Constructor Injection ( khuyến nghị)
	@Service
	public class OrderService {
		    private final UserService userService;
		    public OrderService(UserService userService) {
		        this.userService = userService;
	    }
	}
 Ưu điểm:
* Immutable
* Test dễ
* Không bị Null
---
	##  Cách 3: `@Qualifier` khi có nhiều Bean cùng type
		@Autowired
		@Qualifier("paypalService")
		private PaymentService paymentService;
	
---
#  5. Vòng đời Bean trong Spring (Bean Lifecycle)
Thứ tự chuẩn:
	1 Khởi tạo Bean
	2 Inject Dependency
	3 Gọi hàm @PostConstruct
	4 Bean sẵn sàng sử dụng
	5 Khi App shutdown  gọi @PreDestroy
---
	##  Demo đầy đủ:
		@Component
		public class DemoBean {
			
			    public DemoBean() {
		        System.out.println("1. Constructor");
		    }
		
		    @PostConstruct
		    public void init() {
		        System.out.println("2. PostConstruct");
		    }
		
		    @PreDestroy
		    public void destroy() {
		        System.out.println("3. PreDestroy");
		    }
		}
	
---
##  Bean Lifecycle nâng cao (chuẩn framework)
| Giai đoạn         | Interface           |
| ----------------- | ------------------- |
| Trước khi init    | `BeanPostProcessor` |
| Sau khi inject    | `InitializingBean`  |
| Trước khi destroy | `DisposableBean`    |
---
#  6. Scope của Bean (CỰC QUAN TRỌNG)
		@Scope("singleton")
		@Component
		public class A {}
		
		| Scope         | Ý nghĩa                 | Thực tế             |
		| ------------- | ----------------------- | ------------------- |
		| `singleton` ✅ | 1 instance toàn app     | Service, Repository |
		| `prototype`   | Mỗi lần inject tạo mới  | Object tạm          |
		| `request`     | 1 bean / 1 request HTTP | Web                 |
		| `session`     | 1 bean / 1 user         | Login               |
		| `application` | 1 bean / 1 app servlet  | Hiếm                |
		
	---
	###  Singleton (mặc định)
		@Component
	public class UserService {} // mặc định là singleton
	 1000 request  1 object duy nhất
	---
		###  Prototype
			@Component
			@Scope("prototype")
		public class TempObject {}
		
		 Mỗi lần gọi  Object mới
		
	---
	#  7. Các Annotation Bean quan trọng nhất (BẮT BUỘC PHẢI NHỚ)
	| Annotation        | Mục đích      |
	| ----------------- | ------------- |
	| `@Component`      | Đánh dấu Bean |
	| `@Service`        | Business      |
	| `@Repository`     | DB            |
	| `@Controller`     | MVC           |
	| `@RestController` | REST          |
	| `@Autowired`      | Inject        |
	| `@Qualifier`      | Chọn Bean     |
	| `@Bean`           | Khai báo Bean |
	| `@Configuration`  | Config        |
	| `@Scope`          | Phạm vi       |
	| `@PostConstruct`  | Sau inject    |
	| `@PreDestroy`     | Trước destroy |
	---
	#  8. Lỗi Bean cực hay gặp & cách hiểu bản chất
	---
	###  Lỗi:
		Consider defining a bean of type 'UserService' in your configuration
	 Nguyên nhân:
	* Thiếu `@Service`, `@Component`
	* Package không được scan
	* Dùng `new UserService()` thay vì inject
	---
		###  Lỗi Duplicate Bean
		Nguyên nhân:
		* Vừa dùng `@Component`
		* Vừa dùng `@Bean` cho cùng class
		 Giải pháp:
		* Chỉ chọn 1 cách tạo Bean
	---
	###  Inject vòng tròn (Circular Dependency)
		A -> B
		B -> A
	 Giải pháp:
	* Dùng constructor injection đúng cách
	* Hoặc `@Lazy`
	---
	#  9. Bean + AOP + Proxy (bản chất nâng cao)
		Khi bạn dùng:
		* `@Transactional`
		* `@Async`
		* `@Cacheable`
		Thì Spring:
		 Không dùng Bean gốc
		 Mà tạo Proxy Bean
		 Vì vậy:
		* Không gọi method nội bộ trong cùng class
		* Không dùng `new` với class có AOP
	---
	#  10. Tóm tắt 1 bảng là nhớ toàn bộ
	| Nội dung       | Ghi nhớ                                  |
	| -------------- | ---------------------------------------- |
	| Bean là gì     | Object do Spring quản lý                 |
	| Tạo Bean       | `@Component`, `@Bean`                    |
	| Inject         | Constructor injection                    |
	| Scope          | `singleton` (mặc định)                   |
	| Vòng đời       | Constructor → PostConstruct → PreDestroy |
	| Lỗi thường gặp | Thiếu bean, trùng bean, inject vòng      |
	---
		Nếu bạn muốn, tôi có thể tiếp tục cho bạn:
		 So sánh Bean vs Object thường
		 Spring Bean trong Microservice + Redis + Kafka
		 Cơ chế proxy trong @Transactional
		 Sơ đồ vòng đời Bean chi tiết từng bước
		 Bài tập phỏng vấn Spring Bean từ Junior  Senior
		Bạn muốn học Bean theo hướng:
		* Phỏng vấn Java Spring
		* Triển khai thực tế Backend
		* Hay Spring nâng cao - AOP - Microservice?